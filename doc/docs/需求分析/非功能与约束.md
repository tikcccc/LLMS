# 非功能与约束

## 文档定位
- 本文档统一汇总 LLMS 的非功能需求、约束与验收口径。
- 功能需求请参考《需求总览》《用户故事与验收》。
- 范围边界与里程碑请参考《目标与范围》。

## 1. 非功能需求（NFR）总表

| 类别 | 指标/约束 | 目标值 | 优先级 | 适用端 | 测量方式 | 备注/来源 |
| --- | --- | --- | --- | --- | --- | --- |
| 性能 | 地图首屏加载时间 | < 3 秒 | P0 | Web | 首屏加载计时 | 整理自需求总览/目标与范围 |
| 性能 | 地图操作流畅度 | 支持 100+ Work Lot 无明显卡顿 | P0 | Web | 100+ 要素场景压测 | 整理自需求总览/目标与范围 |
| 性能 | 搜索响应时间 | < 1 秒 | P0 | Web/Mobile | 搜索请求计时 | 整理自需求总览/目标与范围 |
| 性能 | 移动端任务列表加载 | < 1 秒 | P0 | Mobile | 列表加载计时 | 整理自需求总览/目标与范围 |
| 性能 | Tile 请求节流 | 避免短时间大量请求 | P0 | Web/Mobile | 请求速率监控 | 整理自需求总览 / 合规要求 |
| 安全 | HTTPS/SSL | 全链路加密 | P0 | 全端 | 协议检查 | 整理自需求总览/目标与范围 |
| 安全 | 密码加密 | 密码加密存储 | P1 | 全端 | 安全检查 | 整理自需求总览/目标与范围 |
| 安全 | 权限控制 | 基于角色访问控制 | P0 | 全端 | 权限用例测试 | 整理自需求总览 |
| 安全 | 审计日志 | 记录关键操作（Phase 2） | P2 | Web | 日志检查 | 整理自需求总览 |
| 可用性 | 响应式设计 | 适配桌面/笔记本/平板 | P0 | Web | 断点验证 | 整理自需求总览 |
| 可用性 | 移动端适配 | 适配 iOS 和 Android | P0 | Mobile | 机型验证 | 整理自需求总览 |
| 可用性 | 浏览器兼容 | Chrome/Safari/Edge 最新版 | P0 | Web | 兼容测试 | 整理自需求总览 |
| 可用性 | 错误提示 | 友好错误提示与帮助 | P1 | 全端 | 异常用例 | 整理自需求总览 |
| 数据准确性 | 坐标系统一 | HK80（EPSG:2326） | P0 | 全端 | 坐标检查 | 整理自需求总览 |
| 数据准确性 | 数据来源标注 | 明确标注来源与精度 | P0 | Web | UI 检查 | 整理自需求总览 |
| 数据准确性 | 数据持久化 | 刷新数据不丢失 | P0 | Web/Mobile | 刷新验证 | 整理自需求总览 |
| 数据准确性 | 数据校验 | schema 兼容检查 | P1 | Web | 加载验证 | 整理自需求总览 |
| 可靠性 | CSDI 依赖 | 缓存与降级提示 | P1 | 全端 | 断网/限流测试 | 整理自需求总览 |
| 可靠性 | 异常处理 | 204/500 友好提示 | P1 | 全端 | 异常用例 | 整理自需求总览 |
| 可靠性 | 数据备份 | localStorage 可导出备份 | P2 | Web | 导出验证 | 整理自需求总览 |
| 合规 | 署名要求 | 显示 LandsD logo + Copyright | P0 | 全端 | UI 检查 | 整理自需求总览/目标与范围 |
| 合规 | 访问限制 | 避免短时间大量请求 CSDI API | P0 | 全端 | 请求节流 | 整理自需求总览 |
| 合规 | TLS 要求 | 符合 TLS 1.2 | P0 | 全端 | 协议检查 | 整理自需求总览 |

## 2. 依赖与技术约束

| 类型 | 约束/依赖 | 说明 | 优先级 | 备注/来源 |
| --- | --- | --- | --- | --- |
| 外部依赖 | CSDI 门户/接口可用性 | 底图与标注依赖 CSDI 服务 | P0 | 整理自目标与范围 |
| 数据依赖 | Soft Copy Plans | 初期地界来自示意图，精度有限 | P0 | 整理自需求总览 |
| 技术约束 | 前端优先 | Vue 3 + Pinia，后端延后 | P0 | 整理自需求总览 |
| 部署约束 | C1 Site Server | Windows Server/VM 环境 | P0 | 整理自需求总览 |
| 安全策略 | 防火墙/VPN | 端口开放、VPN 访问 | P1 | 整理自需求总览 |
| 时间约束 | 6-8 周（计划 8 周） | 交付周期约束 | P0 | 整理自需求总览 |
| 时间约束 | Week 2 必须有可视化 Demo | 不可延期 | P0 | 整理自目标与范围 |
| 预算约束 | HK$200,000 | 开发预算约束 | P0 | 整理自需求总览 |
| 资源依赖 | Soft Copy Plans（北/南） | Week 1 提供 | P0 | 整理自目标与范围 |
| 资源依赖 | 服务器访问权限（IP/账号/端口） | Week 1 提供 | P0 | 整理自目标与范围 |
| 资源依赖 | 示例数据（已收地案例） | Week 1-2 提供 | P1 | 整理自目标与范围 |
| 资源依赖 | UAT 用户 | Week 6 参与测试 | P1 | 整理自目标与范围 |

## 3. 假设

| 假设 | 说明 | 备注/来源 |
| --- | --- | --- |
| CSDI API 稳定可用 | 底图与标注可持续访问 | 整理自需求总览 |
| CEDD 按时提供 Soft Copy Plans | 支撑地界绘制与演示 | 整理自需求总览 |
| 服务器访问权限及时开通 | 不影响开发进度 | 整理自需求总览 |
| UAT 用户配合测试 | 保障验收完成 | 整理自需求总览 |

## 4. 验收与测量方法

| 验收项 | 标准 | 测量方式 | 备注/来源 |
| --- | --- | --- | --- |
| 性能验收 | 地图首屏 < 3 秒、搜索 < 1 秒、100+ Work Lot 无卡顿 | 性能监控/压测 | 本表指标 |
| 合规验收 | 署名显示、HTTPS/TLS 1.2、请求节流 | UI/安全检查 | 本表指标 |
| 可靠性验收 | 限流/断网提示与降级 | 故障注入测试 | 本表指标 |

## 5. 备注
- 若《目标与范围》与本文档指标冲突，以本文档为非功能唯一口径，并更新源文档保持一致。
