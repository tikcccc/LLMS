# LLMS 文档架构说明（精简版）

## 1. 目标
本架构用于指导 LLMS（地块作业管理系统）产品文档编写，保证需求、设计、接口与验收可对照开发。

## 2. 适用读者
- 产品 / 项目：统一范围与需求口径
- 开发：落地设计与接口实现
- 测试 / QA：验收与可交付标准
- 客户 / 业务：理解功能与边界

## 3. 分层原则
- 项目概览：对外统一介绍与范围
- 需求分析：可执行、可验收
- 技术方案：可落地实现
- 接口文档：前后端协作统一规范
- 附录：会议与术语支撑

---

## 4. 文档清单与内容要求

### 项目概览
| 文档 | 用途 | 内容要点 | 表现形式 |
| --- | --- | --- | --- |
| 项目介绍.md | 系统整体说明 | 背景、目标、价值、范围 | 文本 + 概览图 |
| 目标与范围.md | 范围共识 | In/Out Scope、里程碑 | 列表 + Scope 表 |
| 里程碑与交付物.md | 进度与交付 | 里程碑、排期、验收口径 | 时间线 + 表格 |
| 角色与权限.md | 统一角色口径 | 角色定义、权限矩阵 | 权限矩阵表 |

### 需求分析
| 文档 | 用途 | 内容要点 | 表现形式 |
| --- | --- | --- | --- |
| 需求总览.md | 需求结构 | 模块列表、优先级 | 模块清单 |
| 用户故事与验收.md | 核心需求 | US + BR + AC | 表格 + 条目 |
| 非功能与约束.md | NFR | 性能/安全/依赖 | 指标表 |

说明：
- “功能清单 + 状态规则 + 验收标准”统一写在 用户故事与验收.md
- 用户故事数量控制在 20–30 条以内

### 技术方案
| 文档 | 用途 | 内容要点 | 表现形式 |
| --- | --- | --- | --- |
| 总体架构.md | 结构设计 | 组件关系、部署边界 | Mermaid 架构图 |
| 数据与GIS.md | 领域分析 + GIS | 核心实体、关系、字段摘要、图层策略、坐标系 | ER 图 + 表格 |
| Web端设计.md | Web 交互 | 页面结构、核心流程、权限 | 页面结构图 + 流程图 |
| Mobile端设计.md | App 交互 | 页面结构、任务流程、GPS核验 | 流程图 |

### 数据结构
| 文档 | 用途 | 内容要点 | 表现形式 |
| --- | --- | --- | --- |
| Web端点数据结构.md | Web 数据结构 | 实体定义、字段、关系 | PlantUML + 表格 |
| Mobile端点数据结构.md | Mobile 数据结构 | 实体定义、字段、关系 | PlantUML + 表格 |

### 接口文档
| 文档 | 用途 | 内容要点 | 表现形式 |
| --- | --- | --- | --- |
| 接口总览与规范.md | 统一入口 | Base URL、版本、认证方式、错误码、API清单、通用响应与分页规则 | 表格 + 时序图 |
| API文档/ | 具体接口 | 按模块分组的接口详情（每模块一份） | tabs + 表格 |

说明：
- API 清单与认证/错误码统一放在 接口总览与规范.md
- API 文档按模块分组（目录结构），采用统一模板写法

### 附录
| 文档 | 用途 | 内容要点 | 表现形式 |
| --- | --- | --- | --- |
| 会议纪要.md | 过程留痕 | Kick-off / Meeting 摘要 | 文本 |
| 合同摘要.md | 合同要点 | 范围、服务、周期、条款（不含价格） | 文本 |
| 术语表.md | 统一定义 | Work Lot / Land Lot / Operator / BU | 表格 |

---

## 5. 用户故事模板（统一写法）
每条用户故事必须包含：
- US 编号
- 业务规则（BR 编号）
- 验收标准（AC 编号）

示例结构：
- US-001
  - 业务规则：BR-001-1 / BR-001-2
  - 验收标准：AC-001-1 / AC-001-2

---

## 6. API 文档统一写法（对齐旧项目模板）
每个接口必须包含以下结构，并使用 tabs：

```md
---
sidebarDepth: 1
---

## 接口名称

:::tabs

== Curl
请求示例（curl）

== Header 参数
表格

== 路径参数
表格 / 无

== 查询参数
表格 / 无

== Body
字段表 + JSON 示例 / 无

== 响应
JSON 示例 + 字段说明

== 异常响应
400 / 404 / 403 等示例

:::

**验收标准**
- 条目列表

**业务规则**
- 条目列表

**注意事项**
- 条目列表

**前置条件**
- 条目列表

**交付结果**
- 条目列表
```

---

## 7. 推荐图表类型
- 业务流程：Mermaid flowchart
- 状态机：Mermaid stateDiagram
- 架构图：Mermaid flowchart
- 数据关系：Mermaid ERD
- 接口鉴权：Mermaid sequenceDiagram
- 权限矩阵 / API 列表：表格

---

## 8. 对照开发要求
- 每条用户故事必须在 API 清单中能追溯到接口
- 状态规则必须体现在 用户故事与验收.md 中
- 领域分析必须写入 数据与GIS.md
- 实体字段与关系必须写入 数据结构 文档
